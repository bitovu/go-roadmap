# üîí GOLANG ‚Äî sync

–ü–∞–∫–µ—Ç `sync` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≥–æ—Ä—É—Ç–∏–Ω** –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –æ–±—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

## 1. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `sync`

> **`sync` –Ω—É–∂–µ–Ω, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—â–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.**

–¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏:

* –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω
* –∑–∞—â–∏—Ç–∞ –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
* –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–¥–∏–Ω —Ä–∞–∑

–ï—Å–ª–∏ **–Ω–µ—Ç –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö** ‚Äî `sync` —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–µ –Ω—É–∂–µ–Ω.

---

## 2. WaitGroup

`WaitGroup` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –≥–æ—Ä—É—Ç–∏–Ω**.

```go
var wg sync.WaitGroup

wg.Add(1)
go func() {
    defer wg.Done()
    work()
}()

wg.Wait()
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

* `Add(n)` ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫
* `Done()` ‚Äî —É–º–µ–Ω—å—à–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫
* `Wait()` ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –ø–æ–∫–∞ —Å—á—ë—Ç—á–∏–∫ ‚â† 0

‚ùó `Add` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–¥–æ –∑–∞–ø—É—Å–∫–∞ –≥–æ—Ä—É—Ç–∏–Ω—ã**.

---

## 3. Mutex

`Mutex` –∑–∞—â–∏—â–∞–µ—Ç **–∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Å–µ–∫—Ü–∏—é**.

```go
var mu sync.Mutex

mu.Lock()
x++
mu.Unlock()
```

–ü—Ä–∞–≤–∏–ª–∞:

* –≤—Å–µ–≥–¥–∞ `Lock` / `Unlock` –ø–∞—Ä–æ–π
* –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `defer mu.Unlock()`

---

## 4. RWMutex

`RWMutex` —Ä–∞–∑–¥–µ–ª—è–µ—Ç **—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å**.

```go
var mu sync.RWMutex

mu.RLock()
read()
mu.RUnlock()

mu.Lock()
write()
mu.Unlock()
```

* –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç–µ–ª–µ–π
* —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–∏—Å–∞—Ç–µ–ª—å

---

## 5. Once

`Once` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ **—Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑**.

```go
var once sync.Once

once.Do(initConfig)
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
* singleton-–ø–æ–¥–æ–±–Ω–æ–π –ª–æ–≥–∏–∫–∏

---

## 6. Cond (—Ä–µ–¥–∫–æ)

`Cond` ‚Äî —É—Å–ª–æ–≤–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, —á–∞—â–µ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –∫–∞–Ω–∞–ª–∞–º–∏.

---

## 7. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

* ‚ùå –∑–∞–±—ã—Ç—å `Unlock`
* ‚ùå –¥–µ–ª–∞—Ç—å `Add` –≤–Ω—É—Ç—Ä–∏ –≥–æ—Ä—É—Ç–∏–Ω—ã
* ‚ùå –∑–∞—â–∏—â–∞—Ç—å –≤—Å—ë –ø–æ–¥—Ä—è–¥ –æ–¥–Ω–∏–º mutex

---

## 8. –ö–æ–≥–¥–∞ –ù–ï –Ω—É–∂–µ–Ω `sync`

* —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
* –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–Ω–∞–ª

---

## 9. –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Å–ø–µ–∫—Ç

* `WaitGroup` ‚Äî –∂–¥–∞—Ç—å –≥–æ—Ä—É—Ç–∏–Ω—ã
* `Mutex` ‚Äî –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
* `RWMutex` ‚Äî –º–Ω–æ–≥–æ —á–∏—Ç–∞—Ç–µ–ª–µ–π
* `Once` ‚Äî –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫

---

## 10. –ì–ª–∞–≤–Ω–∞—è –º—ã—Å–ª—å

> **`sync` ‚Äî –ø—Ä–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–µ –ø—Ä–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º.**

---


